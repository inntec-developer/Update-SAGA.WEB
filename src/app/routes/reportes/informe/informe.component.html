<div class="content-heading">
  <div>
     Sistema de Reportes
      <span class="text-sm d-none d-sm-block">Administraci&oacute;n de Reportes.</span>
  </div>
  <!-- Breadcrumb right aligned-->
  <ol class="breadcrumb ml-auto">
      <li class="breadcrumb-item"><a [routerLink]="['/home']" >Inicio</a></li>
      <li class="breadcrumb-item active">Reportes</li>
  </ol>
</div>



<ngx-spinner
bdColor="rgba(198,195,195,0.8)"
size="medium"
color="#90daff"
type="square-jelly-box"
></ngx-spinner>





<div class="row sombra" style="font-size: 12px">



  <div class="col-xl-2" id="divSucursal">

        <div class="form-group">
          <label for="sel2"></label>

              <form  [formGroup]="FormSucursal">
                  <ngx-select
                  [allowClear]="true"
                  autoClearSearch="true"
                 placeholder="Sucursales..."
                 formControlName = "SucursalControl"
                 (data)="(value)"
                 [multiple]="true"
                 [items]="Oficina"
                 size="small"
                 optionValueField="id"
                 optionTextField="nombre"
                 (remove)="sucursalChange()"
                 (select)="sucursalChange()"
               >
                 <ng-template  ngx-select-option-selected let-option >
                   <span >{{ option.data.nombre }}</span>
                 </ng-template>
                 <ng-template ngx-select-option-not-found>
                    <span style="font-size: 11px">No se encontraron resultados...</span>

                  </ng-template>
               </ngx-select>
               </form>

        </div>

    </div>

<div class="col-xl-2">
    <div class="form-group divtiporeport">
      <label for="TipoReporte"></label>
      <select  (change)="Ocultar()" class="form-control" id="TipoReporte">
          <option value="1">Por Solicitud</option>
          <option value="2">Por Estatus</option>
          <option value="3">General</option>
          <option value="4">Productividad Cubiertos</option>
          <option value="5">Cumplimiento</option>
          <option value="6">Detalle Coordinador</option>
          <option value="7">Coordinacion</option>
          <option value="8">Candidato Bolsa</option>
          <option value="9">Vacantes</option>
        
      </select>
    </div>
</div>



<div class="col-xl-2">

  <div class="form-group">
      <label for="picker1"></label>
      <mat-form-field style="top: 17px;">
          <input   matInput [max]="date.value" [matDatepicker]="fechaInicial" id="fechaInicial"  [formControl]="date2" >
          <mat-datepicker-toggle matSuffix [for]="fechaInicial"></mat-datepicker-toggle>
          <mat-datepicker #fechaInicial></mat-datepicker>
        </mat-form-field>
    </div>
    
        <!-- <div class="form-group">
          <label  for="sel3">Fecha Inicio</label>
          <input
            class="form-control input-sm"
            lang="es"
            type="date"
            id="fechaInicial"
            name="fecha"
            max="{{ano}}-{{mes}}-{{dia}}"
          />
        </div> -->
</div>



<div class="col-xl-2">
    <div class="form-group">
        <label for="sel3"></label>
        <mat-form-field  style="top: 17px;">
            <input  matInput [min]="date2.value" [max]="date.value"    [matDatepicker]="fechaFinal" id="fechaFinal"  [formControl]="date">
            <mat-datepicker-toggle matSuffix [for]="fechaFinal"></mat-datepicker-toggle>
            <mat-datepicker #fechaFinal ></mat-datepicker>
          </mat-form-field>
      </div>
</div>




<div class="col-xl-2 ocultar" id="divEdad">
    <div class="form-group ">
      <label for="TipoReporte"></label>
      <select  (change)="Ocultar()" class="form-control" id="EdadReporte">
          <option value="0">Edad, Todos</option>
          <option value="16">16 - 20</option>
          <option value="21">21 - 25</option>
          <option value="26">26 - 30</option>
          <option value="31">31 - 35</option>
          <option value="36">36 - 40</option>
          <option value="41">41 - 45</option>
          <option value="46">46 - 50</option>
          <option value="51">51 - 55</option>
          <option value="56">56 - 60</option>
          <option value="61">61 - 65</option>
          <option value="66">66 - 70</option>
          <option value="71">71 - 75</option>
          <option value="76">mas de 76 </option>

      </select>
    </div>
  </div>

  <div class="col-xl-2 ocultar" id="divgenero">
      <div class="form-group ">
        <label for="TipoReporte"></label>
        <select  (change)="Ocultar()" class="form-control" id="GeneroReporte">
            <option value="0">Genero, Todos</option>
            <option value="1">Masculino</option>
            <option value="2">Femenino</option>
        </select>
      </div>
    </div>

<div class="col-xl-2 ocultar" id="divEstado">
    <div class="form-group">
        <label ></label>
            <form  [formGroup]="FormEstado">
                <ngx-select
                [allowClear]="true"
                autoClearSearch="true"
               placeholder="Entidad federativa..."
               formControlName = "EstadoControl"
               (data)="(value)"
               [multiple]="true"
               [items]="ListaEstado"
               size="small"
               optionValueField="id"
               optionTextField="estado"
               (remove)="EstadoChange()"
               (select)="EstadoChange()"
             >
               <ng-template  ngx-select-option-selected let-option >
                 <span >{{ option.data.estado }}</span>
               </ng-template>
               <ng-template ngx-select-option-not-found>
                  <span style="font-size: 11px">No se encontraron resultados...</span>
                </ng-template>
             </ngx-select>
             </form>
      </div>
</div>


<div class="col-xl-2" id="divTipoReclu">
    <div class="form-group">
        <label ></label>
            <form  [formGroup]="FormTipoReclu">
                <ngx-select
                [allowClear]="true"
                autoClearSearch="true"
               placeholder="Reclutamiento..."
               formControlName = "TiporecluControl"
               (data)="(value)"
               [multiple]="true"
               [items]="reclutaList"
               size="small"
               optionValueField="id"
               optionTextField="nombre"
               (remove)="tiporeclutaChange()"
               (select)="tiporeclutaChange()"
             >
               <ng-template  ngx-select-option-selected let-option >
                 <span >{{ option.data.nombre }}</span>
               </ng-template>
               <ng-template ngx-select-option-not-found>
                  <span style="font-size: 11px">No se encontraron resultados...</span>
                </ng-template>
             </ngx-select>
             </form>
      </div>
</div>

    <div class="col-xl-2" id="divcordinacion">
      <div class="form-group">
        <label for="sel2"></label>
            <form  [formGroup]="FormCordina">
                <ngx-select
                [allowClear]="true"
                autoClearSearch="true"
               placeholder="CoordinaciÃ³n..."
               formControlName = "CordinaControl"
               (data)="(value)"
               [multiple]="true"
               [items]="cordinaList"
               size="small"
               optionValueField="id"
               optionTextField="nombre"
               (remove)="cordinaChange()"
               (select)="cordinaChange()"
             >
               <ng-template  ngx-select-option-selected let-option >
                 <span >{{ option.data.nombre }}</span>
               </ng-template>
               <ng-template ngx-select-option-not-found>
                  <span style="font-size: 11px">No se encontraron resultados...</span>
                </ng-template>
             </ngx-select>
             </form>
      </div>

      </div>

      <div class="col-xl-2 " id="divestatus">
        <mat-form-field style="margin-top: 10px">
          <mat-label>Estatus</mat-label>

          <mat-select  (selectionChange)="PruebaEstatus($event.value)"
          multiple
          style="z-index: 100px !important">
            <!-- <mat-option> None </mat-option> -->
            <mat-optgroup *ngFor="let group of EstatusGeneral" [label]="group.nombre">
                <mat-option class="prueba" style="color: red" (click)="ActivaCheck(group.nombre)" [value]="0">Todos los {{group.nombre}} </mat-option>
              <mat-option [attr.id]="'o_'+item.id"   [attr.name]="'namee'+item.id"  *ngFor="let item of group.pieza"  [value]="item.id">
                {{item.descripcion}}
              </mat-option>
            </mat-optgroup>
          </mat-select>

        </mat-form-field>
      </div>


      <div class="col-xl-4 ocultar" id="divestatus2">
        <div class="form-group input-sm" style="z-index: 100px !important">
          <label for="sel1"></label>
          <form [formGroup]="FormEstatus">
              <ngx-select
             [allowClear]="true"
             autoClearSearch="true"
             placeholder="Estatus..."
             formControlName = "EstatusControl"
             (data)="(value)"
             [multiple]="true"
             [items]="Estatus"
             size="small"
             optionValueField="id"
             optionTextField="descripcion"
             (remove)="estatusChange()"
             (select)="estatusChange()">
             <ng-template ngx-select-option-selected let-option  >
               <span style="font-size: 10px !important" >{{ option.data.descripcion }}</span>
             </ng-template>
             <ng-template ngx-select-option-not-found>
                <span style="font-size: 11px">No se encontraron resultados...</span>
              </ng-template>
           </ngx-select>
           </form>
        </div>
    </div>

      <!-- <div class="col-xl-2 ocultar" id="divestatus">
          <div class="form-group input-sm" style="z-index: 100px !important">
            <label for="sel1"></label>
            <form [formGroup]="FormEstatus">
                <ngx-select
               [allowClear]="true"
               autoClearSearch="true"
               placeholder="Estatus..."
               formControlName = "EstatusControl"
               (data)="(value)"
               [multiple]="true"
               [items]="Estatus"
               size="small"
               optionValueField="id"
               optionTextField="descripcion"
               (remove)="estatusChange()"
               (select)="estatusChange()">
               <ng-template ngx-select-option-selected let-option  >
                 <span style="font-size: 10px !important" >{{ option.data.descripcion }}</span>
               </ng-template>
               <ng-template ngx-select-option-not-found>
                  <span style="font-size: 11px">No se encontraron resultados...</span>
                </ng-template>
             </ngx-select>
             </form>
          </div>
      </div> -->



<div class="col-xl-2" id="divSolicitante">
    <div class="form-group" >
      <label for="solicitanteR"></label>

      <form [formGroup]="FormSolicitante" style="font-size: 10px !important">
          <ngx-select
          [allowClear]="true"
          autoClearSearch="true"
         placeholder="Solicitantes..."
         formControlName = "SolicitanteControl"
         (data)="(value)"
         [multiple]="true"
         [items]="UsuarioSol"
         optionValueField="usuario"
         optionTextField="nombre"
         size="small"
         (remove)="solicitanteChange()"
         (select)="solicitanteChange()">
         <ng-template  size="small" ngx-select-option-selected let-option >
           <span style="font-size: 10px !important" >{{ option.data.nombre }}</span>
         </ng-template>
         <ng-template ngx-select-option-not-found>
            No se encontraron resultados...
          </ng-template>
       </ngx-select>
       </form>

      <!-- <select class="form-control" id="solicitanteR">
        <option value="0">Todos los solicitantes</option>
        <option value="{{ item.usuario }}" *ngFor="let item of Usuario">{{
          item.nombre
        }}</option>
      </select> -->
    </div>

</div>





<div class="col-xl-4" id="divEmpresas">
    <div class="form-group input-sm" >
      <label for="empresaR"></label>

      <form [formGroup]="FormEmpresas">
          <ngx-select
         [allowClear]="true"
         autoClearSearch="true"
         placeholder="Empresas..."
         formControlName = "ClientesControl"
         (data)="(value)"
         class="select-asig"
         [multiple]="true"
         [items]="Empresas"
         (remove)="empresaChange()"
         (select)="empresaChange()"
         size="small"
         optionValueField="id"
         optionTextField="razonSocial"

       >
         <ng-template ngx-select-option-selected let-option let-text="descripcion">
           <span style="font-size: 9px !important">{{ option.data.razonSocial }}</span>
         </ng-template>
         <ng-template ngx-select-option-not-found>
           No se encontraron resultados...
         </ng-template>
       </ngx-select>
       </form>
    </div>
</div>


<div class="col-xl-4" id="divreclutador">

    <div class="form-group input-sm">
      <label for="sel2"></label>

      <form [formGroup]="FormReclutador">
          <ngx-select
         [allowClear]="true"
         autoClearSearch="true"
         placeholder="Reclutador..."
         formControlName = "ReclutadorControl"
         (data)="(value)"
         [multiple]="true"
         [items]="Usuario"
         size="small"
         optionValueField="id"
         optionTextField="nombre"
         (remove)="reclutadorChange()"
         (select)="reclutadorChange()">
         <ng-template ngx-select-option-selected let-option >
           <span style="font-size: 13px !important">{{ option.data.nombre }}</span>
         </ng-template>
         <ng-template ngx-select-option-not-found>
            No se encontraron resultados...
          </ng-template>
       </ngx-select>
       </form>

    </div>
</div>

<div class="col-xl-4 ocultar" id="divBusCoordina2">
  <div class="form-group input-sm " >
    <label for="sel2"></label>
    <form [formGroup]="FormUserCor">
        <ngx-select
       [allowClear]="true"
       autoClearSearch="true"
       placeholder="Coordinador..."
       formControlName = "UserCorControl"
       (data)="(value)"
       [multiple]="true"
       [items]="UsuarioCor"
       size="small"
       optionValueField="id"
       optionTextField="nombre"
       (remove)="UsuarioCorChange()"
       (select)="UsuarioCorChange()">
       <ng-template ngx-select-option-selected let-option >
         <span style="font-size: 13px !important">{{ option.data.nombre }}</span>
       </ng-template>
       <ng-template ngx-select-option-not-found>
          No se encontraron resultados...
        </ng-template>
     </ngx-select>
     </form>
  </div>
</div>

<div class="col-xl-4">
    <div class="form-group input-sm" id="divBusCoordina">
      <label for="sel2"></label>
      <form [formGroup]="FormUserCor">
          <ngx-select
         [allowClear]="true"
         autoClearSearch="true"
         placeholder="Coordinador..."
         formControlName = "UserCorControl"
         (data)="(value)"
         [multiple]="true"
         [items]="UsuarioCor"
         size="small"
         optionValueField="id"
         optionTextField="nombre"
         (remove)="UsuarioCorChange()"
         (select)="UsuarioCorChange()">
         <ng-template ngx-select-option-selected let-option >
           <span style="font-size: 13px !important">{{ option.data.nombre }}</span>
         </ng-template>
         <ng-template ngx-select-option-not-found>
            No se encontraron resultados...
          </ng-template>
       </ngx-select>
       </form>
    </div>
</div>

<div class="col-xl-4" id="Divdiv"></div>
  <div class="col-xl-2 " style="margin-top: 23px;">
      <div class="form-group ocultar">
          <div class="input-group input-sm">
            <input
              id="palabra"
              type="text"
              size="12"
              #palabra
              (blur)="hijo.Guardar(palabra.value)"
              placeholder="Palabra clave"
              class=" form-control input-sm"
            />
            <div class="input-group-append mano" (click)="hijo.Generar()">
              <span class="input-group-text "> <em class="fa fa-search"></em></span>
            </div>
          </div>
        </div>
    </div>

    <div class="col-xl-2" style="margin-top: 10px;">
        <button id="exel1" tooltip="Exportar" (click)="hijo.Exportar()" class="btn btn-sm btn-warning btnReport mat-elevation-z8">
            <em  class="fa fa-download"></em>
          </button>
          <button id="exel2" tooltip="Exportar" (click)="ReGeneral.exportAsXLSX()" class="ocultar btn btn-sm btn-warning btnReport mat-elevation-z8">
              <em  class="fa fa-download"></em>
            </button>
            <button id="exelProact" tooltip="Exportar" style="right: auto;" (click)="ProAct.Exportar()" class="ocultar btn btn-sm btn-warning btnReport mat-elevation-z8">
              <em  class="fa fa-download"></em>
            </button>
            <button id="exelDetalleReclu" tooltip="Exportar" style="right: auto;" (click)="DetalleReclu.Exportar()" class="ocultar btn btn-sm btn-warning btnReport mat-elevation-z8">
              <em  class="fa fa-download"></em>
            </button>
            <button id="exelDetalleCordi" tooltip="Exportar" style="right: auto;" (click)="DetalleCordi.Exportar()" class="ocultar btn btn-sm btn-warning btnReport mat-elevation-z8">
              <em  class="fa fa-download"></em>
            </button>
            <button id="exelCoordinacion" tooltip="Exportar" style="right: auto;" (click)="Cordinacion.Exportar()" class="ocultar btn btn-sm btn-warning btnReport mat-elevation-z8">
              <em  class="fa fa-download"></em>
            </button>
            <button id="exelCandidato" tooltip="Exportar" style="right: auto;" (click)="Candidato.Exportar()" class="ocultar btn btn-sm btn-warning btnReport mat-elevation-z8">
              <em  class="fa fa-download"></em>
            </button>
            <button id="exelVacante" tooltip="Exportar" style="right: auto;" (click)="Vacante.Exportar()" class="ocultar btn btn-sm btn-warning btnReport mat-elevation-z8">
              <em  class="fa fa-download"></em>
            </button>



        <button class="btn btn-sm btn-success btnReport mat-elevation-z8" (click)="hijo.Generar(objsucursal,objsolicit,objrecluta,objempresa,objstatus,objtiporeclu,objtipocordi,objusercoo)" tooltip="Generar Reporte" id="report1"  >
            <em class="fa fa-bar-chart"></em>
          </button>
        <button class="ocultar btn btn-sm btn-success btnReport mat-elevation-z8" (click)="ReGeneral.llamado(objsucursal,objsolicit,objrecluta,objempresa,objstatus,objtiporeclu,objtipocordi)" tooltip="Generar Reporte" id="report2"  >
            <em  class="fa fa-bar-chart"></em>
          </button>
          <button class="ocultar btn btn-sm btn-success btnReport mat-elevation-z8" style="right: auto;" (click)="ProAct.Generar(objrecluta,objtipocordi)" tooltip="Generar Reporte" id="repProActi"  >
            <em  class="fa fa-bar-chart"></em>
          </button>
          <button class="ocultar btn btn-sm btn-success btnReport mat-elevation-z8" style="right: auto;" (click)="DetalleReclu.Generar(objrecluta,objtipocordi)" tooltip="Generar Reporte" id="repDetalleReclu"  >
            <em  class="fa fa-bar-chart"></em>
          </button>
          <button class="ocultar btn btn-sm btn-success btnReport mat-elevation-z8" style="right: auto;" (click)="DetalleCordi.Generar(objusercoo,objtipocordi)" tooltip="Generar Reporte" id="repDetalleCordina"  >
            <em  class="fa fa-bar-chart"></em>
          </button>
          <button class="ocultar btn btn-sm btn-success btnReport mat-elevation-z8" style="right: auto;" (click)="Cordinacion.Generar(objstatus)" tooltip="Generar Reporte" id="repCoordinacion"  >
            <em  class="fa fa-bar-chart"></em>
          </button>
          <button class="ocultar btn btn-sm btn-success btnReport mat-elevation-z8" style="right: auto;" (click)="Candidato.Generar(objestado,objstatus)" tooltip="Generar Reporte" id="repCandidato"  >
              <em  class="fa fa-bar-chart"></em>
            </button>
            <button class="ocultar btn btn-sm btn-success btnReport mat-elevation-z8" style="right: auto;" (click)="Vacante.Generar()" tooltip="Generar Reporte" id="repVacante"  >
              <em  class="fa fa-bar-chart"></em>
            </button>

      </div>


</div>




<div style="margin-top: -77px">
<app-tabla-reporte class="ocultar" id="DivReportefil" #hijo [data]="true"></app-tabla-reporte>

<app-reporte70 class="ocultar" id="Divprincipal" #ReGeneral ></app-reporte70>

<app-productividad id="DivProacti" #ProAct > </app-productividad>

<app-detallerecluta id="DivDetalleReclu" #DetalleReclu > </app-detallerecluta>

<app-detallecordina id="DivDetalleCordi" #DetalleCordi></app-detallecordina>

<app-coordinacion  id="DivCoordinacion" #Cordinacion></app-coordinacion>

<app-candidatobolsa id="DivCandidato" #Candidato ></app-candidatobolsa>

<app-vacante id="DivVacante" #Vacante ></app-vacante>
</div>

