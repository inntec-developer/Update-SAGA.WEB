<div class="content-heading">
  <div>
    Candidatos
    <span class="text-sm d-none d-sm-block">Administraci&oacute;n de Candidatos.</span>
  </div>
  <!-- Breadcrumb right aligned-->
  <ol class="breadcrumb ml-auto">
    <li class="breadcrumb-item">
      <a [routerLink]="['/home']">Inicio</a>
    </li>
    <li class="breadcrumb-item active">Gesti&oacute;n Archivos</li>
  </ol>
</div>
<br/>
<div class="card">

<div class="card-body mat-elevation-z8">
    <div>
        <button type="button" class="btn btn-xs btn-success float-right mat-elevation-z8" (click)="refreshTableInfo()" container="body" placement="bottom" tooltip="Actualizar" container="body">
        <em class="icon-refresh"></em>
        </button>
        <button (click)="clearfilters()" class="float-right mr-2 mat-elevation-z8" container="body" placement="bottom" tooltip="Limpiar Filtros"
            container="body" [disabled]="!clearFilter" [ngClass]="(!clearFilter) ? 'btn btn-xs disabled':'btn btn-xs btn-info'">
            <em class="fa fa-eraser"></em>
          </button>
        <button [disabled]="element.length == 0" [ngClass]="element.length == 0 ? 'disabled' : 'btn-warning'" class="mb-1 btn btn-xs  mat-elevation-z8 float-right mr-2" type="button" container="body" placement="bottom" tooltip="Cargar Archivos" (click)="candidatoId = element.candidatoId; nom = element.nombre; filemanager=true;">
            <em class="fa fa-upload"></em>
          </button>
        </div>
        <br/>
  <table *ngIf="dataInfoRequi.length > 0 else NotCandidatos" class="table">
    <thead>
      <tr>
        <th *ngFor="let column of columns" ngClass="{{column.className || ''}}">
          <small class="text-center">{{column.title | uppercase}}</small>
        </th>
      </tr>
      <tr>
        <th *ngFor="let column of columns">
          <input *ngIf="column.filtering" placeholder="{{column.filtering.placeholder}}" [ngTableFiltering]="column.filtering"
             (tableChanged)="onChangeTableInfo(config)" class="form-control form-control-sm" id="{{column.name}}">
        </th>
      </tr>
    </thead>
    <tbody>
      <ng-scrollbar #scrollableEstatus [trackX]="true" [trackY]="true" [compact]="compact" [shown]="shown" [disableOnBreakpoints]="false"
        [disabled]="disabled">
        <div style="height: 350px;">
          <tr *ngFor="let row of rowsInfo; let rowIndex = index" (click)="onCellClick(row)" [class.bg-primary]="row.selected">
            <td class="text-center">{{row.folio}}</td>
            <td class="text-center">{{row.vbtra | uppercase}}</td>
            <td class="text-center">{{row.curp | uppercase}}</td>
              <td class="text-center">{{row.edad | date:'yyyy-MM-dd'}}</td>
              <td class="text-center">{{row.nombre | uppercase}}</td>
              <td class="text-center">{{row.fch_Creacion | date:'yyyy-MM-dd'}}</td>
          </tr>
        </div>
      </ng-scrollbar>
    </tbody>
  </table>
</div>
<br/>
<div class="clearfix">
    <pagination *ngIf="config.paging" class="pagination-sm float-left" [(ngModel)]="pageInfo" [totalItems]="lengthInfo" [itemsPerPage]="itemsPerPageInfo"
      [maxSize]="maxSizeInfo" [boundaryLinks]="true" [rotate]="false" (pageChanged)="onChangeTableInfo(config, $event)"
      (numPages)="numPagesInfo = $event">
    </pagination>
  <pre *ngIf="config.paging" class="text-muted float-right">P&aacute;gina: {{pageInfo}} / {{numPagesInfo}}  Total Registros: {{registrosInfo}}</pre>
</div>

</div>
<!--filemanager-->
<div *ngIf="filemanager" [config]="{ show: true, ignoreBackdropClick: true }" bsModal #lgModal2="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-sizes-name1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title pull-left text-success"><i class="fa fa-user-circle mr-2" aria-hidden="true"></i>{{nom}}</h4>
        <button type="button" class="btn btn-xs btn-danger btn-circle float-right" (click)="lgModal2.hide();closeModal()" ><i class="fa fa-times"></i></button>

      </div>
      <div class="modal-body">
        <app-file-manager [candidatoId]="candidatoId"></app-file-manager>
      </div>
      <!-- <div class="modal-footer">
        <button type="button" class="md-1 btn btn-success" (click)="lgModal2.hide()">Cerrar</button>
      </div> -->
    </div>
  </div>
</div>

<!--mensaje cuando esta vacio la tabla-->
<ng-template #NotCandidatos>
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12">
        <alert type="info">
            <strong>Oops!</strong> A&uacute;n no cuentas con candidatos cubiertos.
          </alert>
    </div>
  </div>
</ng-template>
