<!-- Calendario -->
<div #calendar>
  <div class="calendar-app">
    <div class="row">
      <div class="col-xl-3 col-lg-4">
        <clock></clock> 
        <div class="dt-container mat-elevation-z8">
          <div class="card">
            <div class="card-header ">
              <div class="d-flex justify-content-between">
                <div>
                  <h3>
                    <i class="fa fa-calendar-check-o" aria-hidden="true"></i> Evento
                  </h3>
                </div>
                <div>
                  <em *ngIf="selectedEvent?.activo && Pendiente" class="fa fa-check culminar"  container="body" placement="bottom" tooltip="Culminar" (click)="sweetalertCulminarEvent(selectedEvent)"></em>
                  <em *ngIf="selectedEvent && !Pendiente" class="fa fa-pencil editar" container="body" placement="bottom" tooltip="Editar" (click)="EditEvent(selectedEvent)"></em>
                  <em *ngIf="selectedEvent" class="fa fa-trash-o eliminar" container="body" placement="bottom" tooltip="Eliminar" (click)="sweetalertDeleteEvent(selectedEvent)"></em>
                  <em class="fa fa-plus editar" container="body" placement="bottom" tooltip="Agregar" (click)="openDialogEventB()"></em>
                </div>
              </div>
              <mat-divider></mat-divider>
            </div>
            <div class="card-body">
              <div *ngIf="selectedEvent && !EditEventAction">
                  <p><strong>Actividad: </strong><span class="text-primary">{{textValueActividad}}</span></p>
                <p><strong>Titulo: </strong><span class="text-primary">{{selectedEvent?.title}}</span></p>
                <p><strong>Inicio: </strong><span class="text-primary">{{selectedEvent?.start | date:'dd/MM/yyyy'}}</span>
                  <strong> a las </strong><span class="text-primary"> {{selectedEvent?.start | date:'hh:mm a'}}</span></p>
                <p><strong>Fin: </strong><span class="text-primary">{{selectedEvent?.end | date:'dd/MM/yyyy'}}</span>
                  <strong> a las </strong><span class="text-primary"> {{selectedEvent?.end | date:'hh:mm a'}}</span></p>
                <!-- <p><strong>Todo el d&iacute;a: </strong>
                <span *ngIf="selectedEvent.allDay else notAllDay"> <i class="fa fa-check-square-o" aria-hidden="true"></i></span>
                <ng-template #notAllDay><span> <i class="fa fa-square-o" aria-hidden="true"></i></span></ng-template>
              </p> -->
                <p><strong>Comentario: </strong><span class="text-primary">{{selectedEvent?.message}}</span></p>

              </div>
              <div *ngIf="EditEventAction">
                <form [formGroup]="formEvent" (ngSubmit)="Save()">
                  <mat-form-field>
                    <input matInput formControlName="Titulo" name="titulo" placeholder="Titlulo" required>
                  </mat-form-field>
                  <mat-form-field>
                    <mat-select (selectionChange)="selected($event.value)" placeholder="Actividad" formControlName="Actividad"  required>
                      <mat-option *ngFor="let x of Actividades"  [value]="x.id">
                        {{x.actividad}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <mat-form-field>
                    <input matInput [matDatepicker]="fchInicio" (dateChange)="EditLimitDate()" placeholder="Inicio"
                      formControlName="Inicio" required>
                    <mat-datepicker-toggle matSuffix [for]="fchInicio"></mat-datepicker-toggle>
                    <mat-datepicker #fchInicio></mat-datepicker>
                  </mat-form-field>
                  <mat-form-field>
                    <input matInput [matDatepicker]="fchFinal" placeholder="Fin" formControlName="Fin">
                    <mat-datepicker-toggle matSuffix [for]="fchFinal"></mat-datepicker-toggle>
                    <mat-datepicker #fchFinal></mat-datepicker>
                  </mat-form-field>
                  <!-- <section>
                  <mat-slide-toggle [color]="warn" formControlName="AllDay" (change)="_CheckAllDay()">
                    <small>Todo el D&iacute;a </small>
                  </mat-slide-toggle>
                </section> -->
                  <section *ngIf="!allDaySelected">
                    <mat-form-field>
                      <input matInput placeholder="Hora Inicio" type="time" min="08:00" max="18:00" value="{{hourStart}}"
                        formControlName="HoraInicio" step="600">
                    </mat-form-field>
                    <mat-form-field>
                      <input matInput placeholder="Hora Final" type="time" formControlName="HoraFin" value="{{hourEnd}}"
                        step="600">
                    </mat-form-field>
                  </section>
                  <section>
                    <mat-form-field>
                      <textarea #message matInput maxlength="500" placeholder="Descripcion / Comentario" rows="3"
                        formControlName="Descripcion"></textarea>
                      <mat-hint align="start"><strong>Redacte una descripci&oacute; del Evento</strong></mat-hint>
                      <mat-hint align="end">{{message.value.length}} / 500</mat-hint>
                    </mat-form-field>
                  </section>
                  <section>
                    <mat-form-field>
                      <input matInput [(colorPicker)]="ColorPicker" [style.background]="ColorPicker" [(ngModel)]="ColorPicker"
                        [ngModelOptions]="{standalone: true}" placeholder="Selecciona un Color" />
                    </mat-form-field>
                  </section>
                  <mat-dialog-actions>
                    <mat-divider></mat-divider>
                    <section>
                      <button class="md-1 btn btn-xs btn-outline-danger margin" (click)="EditEventAction = false">Cancelar</button>
                      <button type="submit" [disabled]="!formEvent.valid" class="md-1 btn btn-xs btn-outline-success margin">Actualizar</button>
                      <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==">
                    </section>

                  </mat-dialog-actions>
                </form>
              </div>
              <div *ngIf="!selectedEvent && !EditEventAction ">
                <p> <span class="text-warning">Click en evento para ver la informaci&oacute;n</span></p>
              </div>
            </div>
          </div>
        </div>

        <!-- <button (click)="addRandomEvent()">Agregar Random Event</button>
        <strong>{{selectedDate}}</strong> -->
      </div>
      <div class="col-xl-9 col-lg-8">
        <div class="dt-container mat-elevation-z8">
          <div class="card">
            <div class="card-body">
              <div *ngIf="NotDateCalendar">
                <span class="text-info">
                  <i class="fa fa-exclamation " aria-hidden="true">
                  </i> No cuenta con evento para mostrar en el calendario.
                </span>
              </div>
              <div #fullcalendar class="calendar"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div #actividadesReclutador *ngIf="!EditEventAction">
    <div *ngIf="!NotDateCalendar">
        <app-actividades-reclutador [Pendientes]='Pendientes' [Hoy]='Hoy' [Siguientes]='Siguientes' (Selected)="selectedClick($event)"></app-actividades-reclutador>
    </div>
  </div>
</div>

<!-- Mensajes Toast -->
<toaster-container toaster-options="{'toaster-id': 1 }" [toasterconfig]="toasterconfig"></toaster-container>
